<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel Administrativo</title>
  <link rel="stylesheet" href="admin.css" />
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
</head>

<body>
  <div class="container">

    <!-- ===== MENU LATERAL ===== -->
    <aside class="sidebar">
      <h2 class="logo"><i class="ri-graduation-cap-line"></i> Gestão</h2>
      <nav class="menu">
        <a href="#" class="menu-item ativo"><i class="ri-dashboard-line"></i> Dashboard</a>
        <a href="#" class="menu-item"><i class="ri-user-3-line"></i> Professores</a>
        <a href="#" class="menu-item"><i class="ri-user-2-line"></i> Alunos</a>
        <a href="Cadastro.html" class="menu-item"><i class="ri-add-line"></i> Cadastrar</a>
      </nav>
      <button id="botaoSair" class="botao-sair"><i class="ri-logout-box-r-line"></i> Sair</button>
    </aside>

    <!-- ===== CONTEÚDO PRINCIPAL ===== -->
    <main class="conteudo">
      <header class="topbar">
        <h1 id="saudacao">Bem-vindo, Administrador!</h1>
        <p>Gerencie professores, alunos e cadastros do sistema.</p>
      </header>

      <!-- ===== DASHBOARD PADRÃO ===== -->
      <section id="dashboard" class="secao ativa">
        <div class="cards">
          <!-- ESTE CARD LEVA PARA A TELA DE EDIÇÃO (Edicao.html) -->
          <div class="card destaque" onclick="window.location.href='Edicao.html'">
            <i class="ri-edit-2-line icone-card"></i>
            <h3>Gerenciar Alunos</h3>
            <p>Editar ou excluir cadastros existentes.</p>
          </div>

          <div class="card">
            <i class="ri-user-3-line icone-card"></i>
            <h3>Professores</h3>
            <p>Visualizar e gerenciar professores cadastrados.</p>
          </div>

          <div class="card destaque">
            <i class="ri-add-line icone-card"></i>
            <h3>Novo Cadastro</h3>
            <p>Adicionar novo professor ou aluno.</p>
            <a href="Cadastro.html" class="botao-card">Ir para Cadastro</a>
          </div>
        </div>
      </section>

      <!-- ===== SEÇÃO DE ALUNOS (INTERNA DO ADMIN) ===== -->
      <section id="alunos" class="secao">
        <h2>Lista de Alunos</h2>
        <p>Selecione um aluno para visualizar seus dados.</p>

        <div id="listaAlunos" class="lista-alunos"></div>

        <div id="infoAluno" class="info-aluno oculto">
          <h3 id="nomeAlunoInfo"></h3>
          <p><strong>Turma:</strong> <span id="turmaAluno"></span></p>
          <p><strong>Disciplina:</strong> <span id="disciplinaAluno"></span></p>
          <p><strong>Professor:</strong> <span id="professorAluno"></span></p>
          <h4>Notas:</h4>
          <ul id="notasAluno"></ul>
        </div>
      </section>

      <!-- ===== SEÇÃO DE PROFESSORES (INTERNA DO ADMIN) ===== -->
<section id="professores" class="secao">
  <h2>Lista de Professores</h2>
  <p>Selecione um professor para visualizar seus dados.</p>

  <div id="listaProfessores" class="lista-alunos"></div>

  <div id="infoProfessor" class="info-aluno oculto">
    <h3 id="nomeProfessorInfo"></h3>
    <p><strong>Disciplina:</strong> <span id="disciplinaProfessor"></span></p>
    <p><strong>Turmas:</strong> <span id="turmasProfessor"></span></p>
  </div>
</section>

    </main>
  </div>

  <!-- ===== SCRIPT DE LOGIN E NAVEGAÇÃO ===== -->
  <script>
  // ==== LOGIN ====
  const admin = JSON.parse(localStorage.getItem("adminLogado"));
  if (!admin) {
    window.location.href = "index.html";
  } else {
    document.getElementById("saudacao").textContent = `Bem-vindo, ${admin.email}!`;
  }

  // ==== SAIR ====
  document.getElementById("botaoSair").addEventListener("click", () => {
    localStorage.removeItem("adminLogado");
    window.location.href = "index.html";
  });

  // ==== MENU LATERAL ====
  const menuItens = document.querySelectorAll(".menu-item");
  const secoes = document.querySelectorAll(".secao");

  menuItens.forEach((item) => {
    item.addEventListener("click", (e) => {
      const texto = item.textContent.trim();

      // Deixa o link de cadastro funcionar normalmente
      if (texto.includes("Cadastrar")) return;

      e.preventDefault();
      menuItens.forEach(i => i.classList.remove("ativo"));
      item.classList.add("ativo");

      secoes.forEach(sec => sec.classList.remove("ativa"));

      if (texto.includes("Dashboard")) document.getElementById("dashboard").classList.add("ativa");
      if (texto === "Alunos") document.getElementById("alunos").classList.add("ativa");
      if (texto === "Professores") document.getElementById("professores").classList.add("ativa");
    });
  });

  // ==== LISTA DE ALUNOS ====
  const alunos = [
    { nome: "Pedro Silva", turma: "3ºA - Informática", disciplina: "Desenvolvimento Web", professor: "Carlos Andrade", notas: [9.5, 8.7, 9.0] },
    { nome: "Maria Souza", turma: "3ºB - Redes", disciplina: "Banco de Dados", professor: "Ana Lima", notas: [8.9, 9.3, 9.1] },
    { nome: "Lucas Pereira", turma: "2ºA - Informática", disciplina: "Lógica de Programação", professor: "João Melo", notas: [8.0, 8.4, 8.6] }
  ];

  const listaAlunos = document.getElementById("listaAlunos");
  const infoAluno = document.getElementById("infoAluno");

  alunos.forEach(aluno => {
    const div = document.createElement("div");
    div.classList.add("aluno-card");
    div.textContent = aluno.nome;
    div.addEventListener("click", () => mostrarInfo(aluno));
    listaAlunos.appendChild(div);
  });

  function mostrarInfo(aluno) {
    document.getElementById("nomeAlunoInfo").textContent = aluno.nome;
    document.getElementById("turmaAluno").textContent = aluno.turma;
    document.getElementById("disciplinaAluno").textContent = aluno.disciplina;
    document.getElementById("professorAluno").textContent = aluno.professor;

    const ul = document.getElementById("notasAluno");
    ul.innerHTML = "";
    aluno.notas.forEach(nota => {
      const li = document.createElement("li");
      li.textContent = `Nota: ${nota}`;
      ul.appendChild(li);
    });

    infoAluno.classList.remove("oculto");
  }
</script>
</body>
</html>